<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script type="text/javascript" 
src="E:\001\MyProjectsForEclipse\flight\src\main\resources\static\js\jquery-3.2.1.min.js"></script>
<script type="text/javascript" th:src="@{/js/jquery-3.2.1.min.js}"></script>

<script type="text/javascript" 
src="E:\001\MyProjectsForEclipse\flight\src\main\resources\static\js\bootstrap.js"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>

<link rel="stylesheet" 
href="E:\001\MyProjectsForEclipse\flight\src\main\resources\static\css\bootstrap.min.css"> 
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">

<link rel="stylesheet" 
href="E:\001\MyProjectsForEclipse\flight\src\main\resources\static\css\component.css"> 
<link rel="stylesheet" th:href="@{/css/component.css}">

<link rel="stylesheet" 
href="E:\001\MyProjectsForEclipse\flight\src\main\resources\static\css\components.min.css"> 
<link rel="stylesheet" th:href="@{/css/components.min.css}">

<link rel="stylesheet" 
href="E:\001\MyProjectsForEclipse\flight\src\main\resources\static\css\login.css"> 
<link rel="stylesheet" th:href="@{/css/login.css}">
</head>
<body class="login">
<script type="text/javascript">
	function checkUsername(ipt){
		var username = ipt.value;
		if(username==""){
			$("#sp").text("");
			return;
		}
		$.getJSON(
			"checkUsername", 
			{ "username" : username }, 
			function(json){
		  		if(json.code==200){
		  			$("#sp").text("用户名不可用").css("color","red");
		  			$("input[type='submit']").attr("disabled","disabled");
		  		}else{
		  			$("#sp").text("用户名可用").css("color","green");
		  			$("input[type='submit']").removeAttr("disabled");
		  		}
		  	}
		);
	}
	</script>

<form action="/doRegist" method="post" enctype="multipart/form-data" class="content">
	<h1>注册</h1>
	<p th:text="${mse}">
	<p>头像：<input type="file" name="photo"/></p>
	
	<div class="form-group">
    	<label class="control-label">账号：</label>
    	<div>
    		<input class="form-control in" name="username" type="text" onchange="checkUsername(this)"/>
    		<span id="sp"></span></p>
    	</div>
    </div>
	
	<div class="form-group">
    	<label class="control-label">密码：</label>
    	<div>
    		<input class="form-control" name="password" type="password"/>
    	</div>
    </div>
    
    <div class="form-group">
    	<label class="control-label">电话号：</label>
    	<div>
    		<input class="form-control" name="phone" type="text"/>
    	</div>
    </div>
    
    <div class="form-group">
    	<label class="control-label">邮箱:</label>
    	<div>
    		<input class="form-control" name="email" type="text"/>
    	</div>
    </div>
    <div class="form-actions">
		<input type="submit" value="注册" class="btn btn-default"/>
	</div>
	<p><a href="login">有账号，去登录</a></p>
</form>

</body>
</html>